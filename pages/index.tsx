import Head from "next/head";
import {Container,} from "@chakra-ui/react";
import {PRIMARY_RUNNING_GAME} from "../config/lottery";
import {GameStateCard} from "../components/react/lotto-state-card";
import {useChain} from "@cosmos-kit/react";
import {chainName} from "../config";
import {ContractContextProvider} from "./ContractContextProvider";

const HomeLayout = () => {
  const {status} = useChain(chainName);
  return (<Container maxW="5xl" py={10}>
    <Head>
      <title>CW Lotto | Home</title>
      <meta name="description" content="Generated by create cosmos app"/>
      <link rel="icon" href="/favicon.ico"/>
    </Head>
    {status === 'Connected' ? <GameStateCard contractAddress={PRIMARY_RUNNING_GAME} showPlayButton={true}/> :
      <div>Please connect your wallet.</div>}
  </Container>);
};

export default function Home() {
  return (<ContractContextProvider>
    <HomeLayout/>
  </ContractContextProvider>);
}
